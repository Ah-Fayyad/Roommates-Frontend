import React, { useState } from "react";
import { Smile } from "lucide-react";

interface EmojiPickerProps {
  onEmojiSelect: (emoji: string) => void;
}

const EmojiPicker: React.FC<EmojiPickerProps> = ({ onEmojiSelect }) => {
  const [showPicker, setShowPicker] = useState(false);

  const emojiCategories = {
    Smileys: [
      "ğŸ˜€",
      "ğŸ˜ƒ",
      "ğŸ˜„",
      "ğŸ˜",
      "ğŸ˜†",
      "ğŸ˜…",
      "ğŸ˜‚",
      "ğŸ¤£",
      "ğŸ˜Š",
      "ğŸ˜‡",
      "ğŸ™‚",
      "ğŸ™ƒ",
      "ğŸ˜‰",
      "ğŸ˜Œ",
      "ğŸ˜",
      "ğŸ¥°",
      "ğŸ˜˜",
      "ğŸ˜—",
      "ğŸ˜š",
      "ğŸ˜™",
      "ğŸ¥²",
      "ğŸ˜‹",
      "ğŸ˜›",
      "ğŸ˜œ",
      "ğŸ¤ª",
      "ğŸ˜Œ",
      "ğŸ¤‘",
      "ğŸ¤—",
      "ğŸ¤­",
      "ğŸ¤«",
      "ğŸ¤”",
      "ğŸ¤",
      "ğŸ¤¨",
      "ğŸ˜",
      "ğŸ˜‘",
      "ğŸ˜¶",
      "ğŸ˜",
      "ğŸ˜’",
      "ğŸ™„",
      "ğŸ˜¬",
      "ğŸ¤¥",
      "ğŸ˜Œ",
      "ğŸ˜”",
      "ğŸ˜ª",
      "ğŸ¤¤",
      "ğŸ˜´",
      "ğŸ˜·",
      "ğŸ¤’",
      "ğŸ¤•",
      "ğŸ¤¢",
      "ğŸ¤®",
      "ğŸ¤®",
      "ğŸ¤®",
      "ğŸ¤®",
    ],
    "Hand Gestures": [
      "ğŸ‘‹",
      "ğŸ¤š",
      "ğŸ–ï¸",
      "âœ‹",
      "ğŸ––",
      "ğŸ‘Œ",
      "ğŸ¤Œ",
      "ğŸ¤",
      "âœŒï¸",
      "ğŸ¤",
      "ğŸ«°",
      "ğŸ¤Ÿ",
      "ğŸ¤˜",
      "ğŸ¤™",
      "ğŸ‘",
      "ğŸ‘",
      "âœŠ",
      "ğŸ‘Š",
      "ğŸ¤›",
      "ğŸ¤œ",
      "ğŸ‘",
      "ğŸ™Œ",
      "ğŸ‘",
      "ğŸ¤²",
      "ğŸ¤",
      "ğŸ™",
    ],
    Heart: [
      "â¤ï¸",
      "ğŸ§¡",
      "ğŸ’›",
      "ğŸ’š",
      "ğŸ’™",
      "ğŸ’œ",
      "ğŸ–¤",
      "ğŸ¤",
      "ğŸ¤",
      "ğŸ’”",
      "ğŸ’•",
      "ğŸ’",
      "ğŸ’“",
      "ğŸ’—",
      "ğŸ’–",
      "ğŸ’˜",
      "ğŸ’",
      "ğŸ’Ÿ",
    ],
  };

  return (
    <div className="relative group">
      <button
        onClick={() => setShowPicker(!showPicker)}
        className="p-2 text-gray-500 hover:text-indigo-600 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700"
        title="Add emoji"
      >
        <Smile className="w-5 h-5" />
      </button>

      {showPicker && (
        <div className="absolute bottom-full left-0 mb-2 p-3 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 w-80 max-h-96 overflow-y-auto z-50">
          {Object.entries(emojiCategories).map(([category, emojis]) => (
            <div key={category} className="mb-4">
              <h4 className="text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2 uppercase">
                {category}
              </h4>
              <div className="grid grid-cols-8 gap-2">
                {emojis.map((emoji) => (
                  <button
                    key={emoji}
                    onClick={() => {
                      onEmojiSelect(emoji);
                      setShowPicker(false);
                    }}
                    className="p-1 text-2xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"
                    title={emoji}
                  >
                    {emoji}
                  </button>
                ))}
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  );
};

export default EmojiPicker;
